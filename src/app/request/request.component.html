<div class="container">
  <div class="row my-5">
    <div class="col-md-3">
      <button mat-button class="url-box fc-blue-grey fs-12 px-3" disabled>
        {{url}}
      </button>
      <button mat-button class="w-100 fs-16 bor-accent my-3" style="height: 50px" color="accent" type="button" ngxClipboard [cbContent]="url" (cbOnSuccess)="copyToClipboard()">{{copyUrlTxt}}</button>
    </div>
    <div class="ml-auto col-md-8">
      <mat-spinner class="mx-auto" *ngIf="!request || !request.requestId"></mat-spinner>
      <mat-card *ngIf="request && request.requestId" class="p-0 br-7 sh-blue">
        <div class="d-flex bg-primary p-4 btr-7">
          <img class="px-3" style="max-height: 75px;" src="assets/img/request-logo.png">
          <div class="ml-auto text-right px-3">
            <h4 class="fc-white semi-bold fs-18">{{request.details.data.date | date: 'fullDate'}}</h4>
            <div class="fc-white fs-14"><i>Request Id: {{request.requestId}}</i></div>
          </div>
        </div>
        <div class="bg-grey-white fc-blue-grey p-4 d-flex flex-wrap">
          <div class="d-flex" style="flex: 1">
            <div class="px-3">
              <img [src]="fromIcon.toDataURL()" style="width: 50px; height: 50px; image-rendering: pixelated; border-radius: 25px" />
            </div>
            <div class="fs-14">
              <div class="mb-1" style="opacity: 0.5">FROM</div>
              <div class="semi-bold">ETH address</div>
              <div matTooltip="{{request.payer}}">{{request.payee.substring(0, 10)}}...{{request.payee.substring(32, 42)}}</div>
            </div>
          </div>
          <div class="d-flex" style="flex: 1">
            <div class="px-3">
              <img [src]="toIcon.toDataURL()" style="width: 50px; height: 50px; image-rendering: pixelated; border-radius: 25px" />
            </div>
            <div class="fs-14">
              <div class="mb-1" style="opacity: 0.5">TO</div>
              <div class="semi-bold">ETH address</div>
              <div matTooltip="{{request.payee}}">{{request.payer.substring(0, 10)}}...{{request.payer.substring(32, 42)}}</div>
            </div>
          </div>
        </div>
        <div class="fc-blue-grey p-4" style="border-bottom: 1px solid #DFE5EC">
          <div class="px-3" *ngFor="let data of objectKeys(request.details.data)" [hidden]="data == 'date'">
            <div class="semi-bold">{{data}}</div>
            <div>{{request.details.data[data]}}</div>
          </div>
        </div>
        <div class="d-flex">
          <div class="ml-auto d-inline-block semi-bold fc-primary px-5 py-4" style="background: #DFE5EC">
            <div class="fs-14">AMOUNT</div>
            <div class="fs-24">{{request.amountInitial}} ETH</div>
          </div>
        </div>
        <div class="p-5">
          <div class="mx-auto w-50 centered">
            <div class="fc-blue-grey fs-12 mb-1">
              {{progress | number: '1.0-2'}}% of the Request has been paid
            </div>
            <mat-progress-bar mode="determinate" [value]="progress"></mat-progress-bar>
          </div>
        </div>
        <mat-toolbar class="p-0 bbr-7" style="height: 90px">
          <button class="ml-auto p-0 br-0" mat-raised-button color="accent" style="width: 50%; height: 100%; border-radius: 0 0 7px 0; box-shadow: none !important;">Add a discount</button>
        </mat-toolbar>
      </mat-card>
    </div>
  </div>
</div>
